<!DOCTYPE html>
<html lang="en" ng-app="grumblr">
<head>
    <meta charset="UTF-8">
    <title>Grumblr with Angular</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/controllers/grumblrs.js"></script>
</head>
<body>
  <div ng-controller="grumblrsController as grumblrsCtrl">
  <a href="#" ng-click="grumblrsCtrl.toggleForm()">New Grumblr</a>
  <p>The value of formIsVisible is: {{ grumblrsCtrl.formIsVisible }}<p>
  <form ng-show="grumblrsCtrl.formIsVisible" ng-submit="grumblrsCtrl.create()">
    <label>Title:</label>
    <input type="text" ng-model="grumblrsCtrl.title">
    <label>Author Name:</label>
    <input type="text" ng-model="grumblrsCtrl.authorName">
    <label>Content:</label>
    <input type="text" ng-model="grumblrsCtrl.content">
    <label>Photo URL:</label>
    <input type="text" ng-model="grumblrsCtrl.photoUrl">
    <input type="submit">
  </form>


  <div ng-repeat="grumblr in grumblrsCtrl.grumblrs">
    <p ng-show="!editGrumblr">{{ ($index + 1) + ". " }}{{ "Title: " + grumblr.title + "  Author: " + grumblr.authorName + "  Content: " + grumblr.content + "  Photo URL: " + grumblr.photoUrl }}</p>
    <!-- <p ng-show="!editGrumblr">{{ ($index + 1) + ". " }}{{ "Title: " + grumblr.title }}</p> -->
    <button ng-click="grumblrsCtrl.currentGrumblr($index); editGrumblr=!editGrumblr">Edit Grumblr</button>
    <form ng-show="editGrumblr" ng-submit="grumblrsCtrl.updateGrumblr( $index ); editGrumblr=!editGrumblr">
      <label>Title:</label>
      <input type="text" ng-model="grumblrsCtrl.updatedTitle">
      <label>Author Name:</label>
      <input type="text" ng-model="grumblrsCtrl.updatedAuthorName">
      <label>Content:</label>
      <input type="text" ng-model="grumblrsCtrl.updatedContent">
      <label>Photo URL:</label>
      <input type="text" ng-model="grumblrsCtrl.updatedPhotoUrl">
      <input type="submit">
    </form>
    <button class="delete" ng-click="grumblrsCtrl.delete($index)">Delete</button>
  </div>
  </div>
</body>
</html>
